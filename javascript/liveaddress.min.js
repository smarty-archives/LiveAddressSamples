var LiveAddress=function(){function f(e,t,n,r){var i=document.getElementById(e);return l({street:i?i.value:e},t,n,r)}function l(e,t,n,i){if(!e)return null;var o=[],u={};var a="batch_"+s++;e=e instanceof Array?e:[e];r[a]={size:e.length,returned:0,json:[],userCallback:t,wrap:i||function(e){return e}};for(var f in e)o.push(c(e[f],a,f,n));return o}function c(e,t,r,i){var o={fields:e};o.id="addr_"+s++;o.inputIndex=parseInt(r,10);o.json=[];o.batch=t;o.userTimeout=i;o.callback=function(e){d(o.id,e)};n[o.id]=o;return o.id}function h(r){var i=n[r],s;if(e&&t)s="?auth-id="+e+"&auth-token="+t+"&candidates="+o;else s="?auth-token="+e+"&candidates="+o;for(var u in i.fields)s+="&"+u+"="+encodeURIComponent(i.fields[u]);s+="&callback="+encodeURIComponent('LiveAddress.request("'+r+'").callback');return s}function p(e){for(var t in e){var r=document.createElement("script");r.src="https://api.smartystreets.com/street-address"+h(e[t]);document.getElementsByTagName("head")[0].appendChild(r);n[e[t]].DOM=r;i[e[t]]={attempts:i[e[t]]?i[e[t]].attempts||0:0,timeoutID:setTimeout(v(e[t]),u)}}}function d(e,t){var s=n[e];var o=r[s.batch];for(var u in t)t[u].input_index=s.inputIndex;o.json=o.json.concat(t);document.getElementsByTagName("head")[0].removeChild(s.DOM);delete n[e];clearTimeout(i[e].timeoutID);delete i[e];if(++o.returned==o.size){var a=o.userCallback(o.wrap(o.json));delete r[s.batch];return a}}function v(e){return function(){if(++i[e].attempts<a)p([e]);else if(typeof n[e].userTimeout==="function")n[e].userTimeout(n[e].fields)}}function m(e){if(!e||typeof e!=="object")return undefined;return{lat:e.metadata.latitude,lon:e.metadata.longitude,precision:e.metadata.precision,coords:e.metadata.latitude+", "+e.metadata.longitude}}var e,t;var n={};var r={};var i={};var s=0;var o=5;var u=3500;var a=3;return{init:function(n,r){e=encodeURIComponent(n||"");t=encodeURIComponent(r||"")},verify:function(e,t,n,r){var i;if(typeof e==="string")i=f(e,t,n,r);else if(typeof e==="object"&&!(e instanceof Array))i=l(e,t,n,r);else if(e instanceof Array){var s=[];for(var o in e){if(typeof e[o]=="string"){var u=document.getElementById(e);s.push({street:u?u.value:e[o]})}else s.push(e[o])}i=l(s,t,n,r)}p(i)},request:function(e){return n[e]},geocode:function(e,t,n){this.verify(e,t,n,function(e){if(e.length==1)return m(e[0]);else{var t=[];for(var n in e)t.push(m(e[n]));return t}})},components:function(e,t,n){this.verify(e,t,n,function(e){var t=[];for(var n in e){e[n].components.first_line=e[n].delivery_line_1;if(typeof e[n].delivery_line_2!=="undefined")e[n].components.first_line+=" "+e[n].delivery_line_2;e[n].components.last_line=e[n].last_line;if(typeof e[n].addressee!=="undefined")e[n].components.addressee=e[n].addressee;t.push(e[n].components)}return t})},county:function(e,t,n){this.verify(e,t,n,function(e){return e[0].metadata.county_name})}}}();